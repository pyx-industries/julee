{# Base template macros for RST entity serialization #}

{# Render page title with underline #}
{% macro page_title(title) %}
{% if title %}
{{ title }}
{{ '=' * title|length }}

{% endif %}
{% endmacro %}

{# Render preamble content #}
{% macro preamble(content) %}
{% if content %}
{{ content }}

{% endif %}
{% endmacro %}

{# Render epilogue content #}
{% macro epilogue(content) %}
{% if content %}

{{ content }}
{% endif %}
{% endmacro %}

{# Render a single option if value is truthy #}
{% macro option(name, value) %}
{% if value %}
   :{{ name }}: {{ value }}
{% endif %}
{% endmacro %}

{# Render a list option (comma-separated) #}
{% macro option_list(name, values) %}
{% if values %}
   :{{ name }}: {{ values | join(', ') }}
{% endif %}
{% endmacro %}

{# Render a multiline list option #}
{% macro option_multiline(name, values) %}
{% if values %}
   :{{ name }}:
{% for item in values %}
      {{ item }}
{% endfor %}
{% endif %}
{% endmacro %}

{# Render directive content (indented body) #}
{% macro directive_content(content, indent=3) %}
{% if content %}

{{ content | indent(indent, first=true) }}
{% endif %}
{% endmacro %}
