{% from "base.rst.j2" import page_title, preamble, epilogue, option, option_list, directive_content %}
{# Accelerator entity RST template #}
{{ page_title(entity.page_title) -}}
{{ preamble(entity.preamble_rst) -}}
.. define-accelerator:: {{ entity.slug }}
{{ option('status', entity.status) -}}
{{ option('milestone', entity.milestone) -}}
{{ option('acceptance', entity.acceptance) -}}
{% if entity.sources_from %}
   :sources-from: {{ entity.sources_from | map(attribute='slug') | join(', ') }}
{% endif %}
{% if entity.publishes_to %}
   :publishes-to: {{ entity.publishes_to | map(attribute='slug') | join(', ') }}
{% endif %}
{{ option_list('depends-on', entity.depends_on) -}}
{{ option_list('feeds-into', entity.feeds_into) -}}
{{ directive_content(entity.objective) }}
{{ epilogue(entity.epilogue_rst) }}
